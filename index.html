<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wi-Fi Connect</title>
<link rel="manifest" href="manifest.json">

<style>
body {
    margin:0;
    font-family:-apple-system, BlinkMacSystemFont, sans-serif;
    background:var(--bg);
    color:var(--fg);
    transition:0.3s;
}

:root {
    --bg:#f5f6ff;
    --fg:#000;
    --card:#ffffffaa;
    --select-bg:#e7e9ff;
    --btn:#6a4dff;
}

body.neon {
    --bg:#070013;
    --fg:#dcd3ff;
    --card:#15002baa;
    --select-bg:#2a1b3f;
    --btn:#7e5dff;
}

.container { padding:20px; max-width:480px; margin:auto; }
.card { background:var(--card); backdrop-filter:blur(20px); border-radius:20px; padding:25px; margin-top:40px; transition:0.3s; }
h1 { text-align:center; margin-top:40px; }

button {
    width:100%; padding:15px; border-radius:15px; border:none; font-size:18px;
    margin-top:15px; background:var(--btn); color:white; cursor:pointer;
}

.theme-toggle{
    position:fixed; top:10px; right:10px;
    width:46px; height:46px; border-radius:50%; background:var(--btn);
    display:flex; justify-content:center; align-items:center;
    cursor:pointer; font-size:22px; color:white;
}

.network-list {
    display:flex; flex-direction:column; gap:12px;
    margin-bottom:20px;
}

.network-item {
    display:flex; align-items:center; gap:15px;
    background:var(--select-bg);
    padding:12px;
    border-radius:14px;
    cursor:pointer;
    transition:0.2s;
}

.network-item:hover {
    transform:scale(1.02);
}

.network-item img {
    width:52px; height:52px; border-radius:50%; object-fit:cover;
}

.network-item.selected {
    outline:3px solid var(--btn);
}
</style>
</head>
<body>

<div class="theme-toggle" onclick="toggleTheme()">‚òÄÔ∏è</div>
<h1>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Wi-Fi</h1>

<div class="container">
<div class="card">

    <label>–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç—å:</label>
    <div class="network-list">
        <div class="network-item" onclick="selectNet('r2d5', this)">
            <img src="icons/icon_r2d5_192.png">
            <div><b>r2d5</b> ‚Äî 5 GHz</div>
        </div>

        <div class="network-item" onclick="selectNet('r2d2', this)">
            <img src="icons/icon_r2d2_192.png">
            <div><b>r2d2</b> ‚Äî 2.4 GHz</div>
        </div>
    </div>

    <button onclick="autoConnect()">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (Android)</button>
    <button onclick="showQR()">–ü–æ–∫–∞–∑–∞—Ç—å QR-–∫–æ–¥</button>
    <button onclick="copyPass()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å</button>

    <div class="qr" style="text-align:center;margin-top:20px;">
        <img id="qrimg" width="200">
    </div>

</div>
</div>

<script>
let selectedNetwork = "r2d5";

function selectNet(net, el){
    selectedNetwork = net;
    document.querySelectorAll('.network-item').forEach(i=>i.classList.remove('selected'));
    el.classList.add('selected');
}

function toggleTheme(){
    document.body.classList.toggle('neon');
    updateThemeIcon();
    localStorage.theme = document.body.classList.contains('neon') ? 'dark' : 'light';
}

function updateThemeIcon(){
    document.querySelector(".theme-toggle").innerHTML =
        document.body.classList.contains('neon') ? "üåô" : "‚òÄÔ∏è";
}

function autoDetectTheme(){
    let hour = new Date().getHours();
    let night = hour < 7 || hour >= 19;

    if(localStorage.theme){  
        if(localStorage.theme === "dark") document.body.classList.add("neon");
        updateThemeIcon();
        return;
    }

    if(night) document.body.classList.add("neon");
    updateThemeIcon();
}

autoDetectTheme();

function showQR(){
    document.getElementById("qrimg").src = "qr/qr_" + selectedNetwork + ".png";
}

function autoConnect(){
    window.location.href = "WIFI:T:" + selectedNetwork + ";";
}

function copyPass(){
    navigator.clipboard.writeText("Jgthfnbdysq1913");
    alert("–ü–∞—Ä–æ–ª—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω");
}
</script>
</body>
</html>
